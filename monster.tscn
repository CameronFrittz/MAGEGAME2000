[gd_scene load_steps=20 format=3 uid="uid://qo6tbrl3s5cc"]

[ext_resource type="Script" path="res://Monster.gd" id="1_hqut6"]
[ext_resource type="Texture2D" uid="uid://dujpxlv25ahbk" path="res://SPRITES/Monster.png" id="2_0w6fd"]
[ext_resource type="Material" uid="uid://cauctmfaaaary" path="res://monster-slice.tres" id="2_gwf0c"]
[ext_resource type="AudioStream" uid="uid://cjt7hrmvnqc0b" path="res://SFX/MonsterGrunt.wav" id="3_g2id6"]
[ext_resource type="AudioStream" uid="uid://bpegibg7dnj27" path="res://SFX/groan1.wav" id="5_8875q"]
[ext_resource type="AudioStream" uid="uid://bn55pqxp4fawq" path="res://SFX/groan3.wav" id="7_eiy26"]
[ext_resource type="AudioStream" uid="uid://be7gngdymevgn" path="res://SFX/groan4.wav" id="8_0id3l"]
[ext_resource type="AudioStream" uid="uid://6nagk57wugld" path="res://SFX/groan5.wav" id="9_k8f7c"]
[ext_resource type="AudioStream" uid="uid://d210hdhgex16s" path="res://SFX/groan6.wav" id="10_sid4n"]

[sub_resource type="CanvasTexture" id="CanvasTexture_3w7am"]

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_fpima"]
texture = SubResource("CanvasTexture_3w7am")
modulate_color = Color(1, 0, 0, 1)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_r6i34"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:health")
properties/1/spawn = true
properties/1/replication_mode = 2
properties/2/path = NodePath("Sprite2D:modulate")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath(".:is_frozen")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath("ProgressBar:value")
properties/4/spawn = true
properties/4/replication_mode = 2
properties/5/path = NodePath("ProgressBar:indeterminate")
properties/5/spawn = true
properties/5/replication_mode = 2
properties/6/path = NodePath(".:is_hit_recently")
properties/6/spawn = true
properties/6/replication_mode = 1

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_rlsmq"]
random_volume_offset_db = 0.5
streams_count = 5
stream_0/stream = ExtResource("5_8875q")
stream_1/stream = ExtResource("7_eiy26")
stream_2/stream = ExtResource("8_0id3l")
stream_3/stream = ExtResource("9_k8f7c")
stream_4/stream = ExtResource("10_sid4n")

[sub_resource type="Animation" id="Animation_1xk3l"]
resource_name = "death"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:material")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("2_gwf0c")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:material:shader_parameter/slice_distance")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.0333, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, -0.195]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ProgressBar:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite2D:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-13, -9)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("BloodParticles:emitting")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.6),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_4ghdk"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:material:shader_parameter/slice_distance")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-9, -5)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("BloodParticles:emitting")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xd3y0"]
_data = {
"RESET": SubResource("Animation_4ghdk"),
"death": SubResource("Animation_1xk3l")
}

[sub_resource type="Gradient" id="Gradient_3h2jq"]
offsets = PackedFloat32Array(0.491561, 0.594937, 1)
colors = PackedColorArray(0.351247, 1.13709e-06, 0.0261155, 1, 0.453744, 2.52686e-07, 0.0446104, 1, 1, 0.0235294, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_ce28m"]
gradient = SubResource("Gradient_3h2jq")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ieo0m"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(5, 1, 1)
emission_shape = 1
emission_sphere_radius = 1.55
spread = 3.795
flatness = 0.458
gravity = Vector3(50, -98, 0)
scale_min = 0.1
scale_max = 0.9
color_ramp = SubResource("GradientTexture1D_ce28m")

[node name="Monster" type="CharacterBody2D" groups=["enemies"]]
z_index = 6
y_sort_enabled = true
collision_layer = 2
collision_mask = 2147483682
script = ExtResource("1_hqut6")

[node name="Sprite2D" type="Sprite2D" parent="."]
y_sort_enabled = true
texture_filter = 1
material = ExtResource("2_gwf0c")
position = Vector2(-9, -5)
scale = Vector2(1.1817, 1.1817)
texture = ExtResource("2_0w6fd")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
visible = false
z_index = 3
y_sort_enabled = true
position = Vector2(-7.35438, -4.62608)
polygon = PackedVector2Array(-0.654971, -7.65217, -3.92982, 13.913, 9.82456, 18.087, 11.7895, -7.65217)

[node name="ProgressBar" type="ProgressBar" parent="."]
visible = false
y_sort_enabled = true
clip_contents = true
custom_minimum_size = Vector2(100, 5)
offset_left = -25.0
offset_top = -31.0
offset_right = 75.0
offset_bottom = -4.0
scale = Vector2(0.452946, 0.159096)
theme_override_styles/fill = SubResource("StyleBoxTexture_fpima")
value = 100.0
rounded = true
show_percentage = false

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_r6i34")

[node name="GruntSFX" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = ExtResource("3_g2id6")
volume_db = -1.942

[node name="GroanSFX" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = SubResource("AudioStreamRandomizer_rlsmq")
pitch_scale = 0.7
attenuation = 6.96438
max_polyphony = 10
panning_strength = 1.95
bus = &"Monster Groans"

[node name="HurtArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="HurtArea"]
visible = false
z_index = 4
y_sort_enabled = true
position = Vector2(-3, 28)
rotation = 0.0508076
scale = Vector2(1.45331, 0.631309)
polygon = PackedVector2Array(-19.1623, -20.7865, -6.42667, -15.2684, 6.61045, -15.7932, 23.1329, -35.7506, 14.64, -65.7965, -0.161915, -86.0922, -13.9931, -62.4446, -16.9785, -40.0667)

[node name="AttackArea" type="Area2D" parent="."]
z_index = 4
y_sort_enabled = true
collision_layer = 12
collision_mask = 12

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="AttackArea"]
visible = false
z_index = 3
y_sort_enabled = true
position = Vector2(-7.35438, -4.62608)
polygon = PackedVector2Array(-10.6456, -18.3739, -14.6456, 29.6261, 23.3544, 28.6261, 17.3544, -18.3739)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
"": SubResource("AnimationLibrary_xd3y0")
}

[node name="BloodParticles" type="GPUParticles2D" parent="."]
z_index = -1
position = Vector2(-1, 3)
emitting = false
amount = 50
process_material = SubResource("ParticleProcessMaterial_ieo0m")
lifetime = 0.5
speed_scale = 1.74
