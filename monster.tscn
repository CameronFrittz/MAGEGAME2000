[gd_scene load_steps=21 format=3 uid="uid://qo6tbrl3s5cc"]

[ext_resource type="Script" path="res://Monster.gd" id="1_hqut6"]
[ext_resource type="Texture2D" uid="uid://dujpxlv25ahbk" path="res://SPRITES/Monster.png" id="2_0w6fd"]
[ext_resource type="Material" uid="uid://cauctmfaaaary" path="res://monster-slice.tres" id="2_gwf0c"]
[ext_resource type="Material" uid="uid://bkp6n41jpd7i8" path="res://monster-outline.tres" id="2_iwyor"]
[ext_resource type="AudioStream" uid="uid://cjt7hrmvnqc0b" path="res://SFX/MonsterGrunt.wav" id="3_g2id6"]
[ext_resource type="AudioStream" uid="uid://bpegibg7dnj27" path="res://SFX/groan1.wav" id="5_8875q"]
[ext_resource type="AudioStream" uid="uid://bn55pqxp4fawq" path="res://SFX/groan3.wav" id="7_eiy26"]
[ext_resource type="AudioStream" uid="uid://be7gngdymevgn" path="res://SFX/groan4.wav" id="8_0id3l"]
[ext_resource type="AudioStream" uid="uid://6nagk57wugld" path="res://SFX/groan5.wav" id="9_k8f7c"]
[ext_resource type="AudioStream" uid="uid://d210hdhgex16s" path="res://SFX/groan6.wav" id="10_sid4n"]

[sub_resource type="CanvasTexture" id="CanvasTexture_3w7am"]

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_fpima"]
texture = SubResource("CanvasTexture_3w7am")
modulate_color = Color(1, 0, 0, 1)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_r6i34"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:health")
properties/1/spawn = true
properties/1/replication_mode = 2
properties/2/path = NodePath("Sprite2D:modulate")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath(".:is_frozen")
properties/3/spawn = true
properties/3/replication_mode = 1
properties/4/path = NodePath("ProgressBar:value")
properties/4/spawn = true
properties/4/replication_mode = 2
properties/5/path = NodePath("ProgressBar:indeterminate")
properties/5/spawn = true
properties/5/replication_mode = 2
properties/6/path = NodePath(".:is_hit_recently")
properties/6/spawn = true
properties/6/replication_mode = 1
properties/7/path = NodePath("AnimationPlayer:current_animation")
properties/7/spawn = true
properties/7/replication_mode = 2

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_rlsmq"]
random_volume_offset_db = 0.5
streams_count = 5
stream_0/stream = ExtResource("5_8875q")
stream_1/stream = ExtResource("7_eiy26")
stream_2/stream = ExtResource("8_0id3l")
stream_3/stream = ExtResource("9_k8f7c")
stream_4/stream = ExtResource("10_sid4n")

[sub_resource type="Animation" id="Animation_4ghdk"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("BloodParticles:emitting")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:material")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("2_iwyor")]
}

[sub_resource type="Animation" id="Animation_1xk3l"]
resource_name = "death"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:material:shader_parameter/slice_distance")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8, 0.833333, 0.866667, 0.9, 0.933333, 0.966667, 1, 1.03333, 1.06667, 1.1, 1.13333, 1.16667, 1.2, 1.23333, 1.26667, 1.3, 1.33333, 1.36667, 1.4, 1.43333, 1.46667, 1.5, 1.53333, 1.56667, 1.6, 1.63333, 1.66667, 1.7, 1.73333, 1.76667, 1.8, 1.83333, 1.86667, 1.9, 1.93333, 1.96667, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, -3.82741e-06, -7.65481e-06, -1.14822e-05, -1.53096e-05, -1.9137e-05, -2.29644e-05, -2.68293e-05, -0.00385417, -0.00768151, -0.0115089, -0.0153362, -0.0191635, -0.0229909, -0.0268182, -0.0306456, -0.0344729, -0.0383003, -0.0421276, -0.0459549, -0.0497823, -0.0536096, -0.057437, -0.0612643, -0.0650917, -0.068919, -0.0727463, -0.0765737, -0.080401, -0.0842284, -0.0880557, -0.091883, -0.0957104, -0.0995377, -0.103365, -0.107192, -0.11102, -0.114847, -0.118674, -0.122502, -0.126329, -0.130156, -0.133984, -0.137811, -0.141639, -0.145466, -0.149293, -0.153121, -0.156948, -0.160775, -0.164603, -0.16843, -0.172257, -0.176085, -0.179912, -0.183739, -0.187567, -0.191394, -0.195, -0.195, -0.195]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ProgressBar:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8, 0.833333, 0.866667, 0.9, 0.933333, 0.966667, 1, 1.03333, 1.06667, 1.1, 1.13333, 1.16667, 1.2, 1.23333, 1.26667, 1.3, 1.33333, 1.36667, 1.4, 1.43333, 1.46667, 1.5, 1.53333, 1.56667, 1.6, 1.63333, 1.66667, 1.7, 1.73333, 1.76667, 1.8, 1.83333, 1.86667, 1.9, 1.93333, 1.96667, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8, 0.833333, 0.866667, 0.9, 0.933333, 0.966667, 1, 1.03333, 1.06667, 1.1, 1.13333, 1.16667, 1.2, 1.23333, 1.26667, 1.3, 1.33333, 1.36667, 1.4, 1.43333, 1.46667, 1.5, 1.53333, 1.56667, 1.6, 1.63333, 1.66667, 1.7, 1.73333, 1.76667, 1.8, 1.83333, 1.86667, 1.9, 1.93333, 1.96667, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(0, 0), Vector2(0, 0), Vector2(0, 0), Vector2(0, 0), Vector2(0, 0), Vector2(0, 0), Vector2(-0.00165104, -0.00151345), Vector2(-0.23718, -0.217416), Vector2(-0.472709, -0.433318), Vector2(-0.708239, -0.64922), Vector2(-0.943768, -0.865123), Vector2(-1.1793, -1.08102), Vector2(-1.41483, -1.29693), Vector2(-1.65036, -1.51283), Vector2(-1.88588, -1.72873), Vector2(-2.12141, -1.94463), Vector2(-2.35694, -2.16054), Vector2(-2.59247, -2.37644), Vector2(-2.828, -2.59234), Vector2(-3.06353, -2.80824), Vector2(-3.29906, -3.02415), Vector2(-3.53459, -3.24005), Vector2(-3.77012, -3.45595), Vector2(-4.00565, -3.67185), Vector2(-4.24118, -3.88775), Vector2(-4.47671, -4.10366), Vector2(-4.71224, -4.31956), Vector2(-4.94776, -4.53546), Vector2(-5.18329, -4.75136), Vector2(-5.41882, -4.96727), Vector2(-5.65435, -5.18317), Vector2(-5.88988, -5.39907), Vector2(-6.12541, -5.61497), Vector2(-6.36094, -5.83087), Vector2(-6.59647, -6.04678), Vector2(-6.832, -6.26268), Vector2(-7.06753, -6.47858), Vector2(-7.30306, -6.69448), Vector2(-7.53859, -6.91039), Vector2(-7.77412, -7.12629), Vector2(-8.00964, -7.34219), Vector2(-8.24517, -7.55809), Vector2(-8.4807, -7.774), Vector2(-8.71623, -7.9899), Vector2(-8.95176, -8.2058), Vector2(-9.18729, -8.4217), Vector2(-9.42282, -8.6376), Vector2(-9.65835, -8.85351), Vector2(-9.89388, -9.06941), Vector2(-10.1294, -9.28531), Vector2(-10.3649, -9.50121), Vector2(-10.6005, -9.71712), Vector2(-10.836, -9.93302), Vector2(-11.0715, -10.1489), Vector2(-11.3071, -10.3648), Vector2(-11.5426, -10.5807), Vector2(-11.7781, -10.7966), Vector2(-12, -11), Vector2(-12, -11), Vector2(-12, -11)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("BloodParticles:emitting")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8, 0.833333, 0.866667, 0.9, 0.933333, 0.966667, 1, 1.03333, 1.06667, 1.1, 1.13333, 1.16667, 1.2, 1.23333, 1.26667, 1.3, 1.33333, 1.36667, 1.4, 1.43333, 1.46667, 1.5, 1.53333, 1.56667, 1.6, 1.63333, 1.66667, 1.7, 1.73333, 1.76667, 1.8, 1.83333, 1.86667, 1.9, 1.93333, 1.96667, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true, true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite2D:material")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667, 0.1, 0.133333, 0.166667, 0.2, 0.233333, 0.266667, 0.3, 0.333333, 0.366667, 0.4, 0.433333, 0.466667, 0.5, 0.533333, 0.566667, 0.6, 0.633333, 0.666667, 0.7, 0.733333, 0.766667, 0.8, 0.833333, 0.866667, 0.9, 0.933333, 0.966667, 1, 1.03333, 1.06667, 1.1, 1.13333, 1.16667, 1.2, 1.23333, 1.26667, 1.3, 1.33333, 1.36667, 1.4, 1.43333, 1.46667, 1.5, 1.53333, 1.56667, 1.6, 1.63333, 1.66667, 1.7, 1.73333, 1.76667, 1.8, 1.83333, 1.86667, 1.9, 1.93333, 1.96667, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c"), ExtResource("2_gwf0c")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xd3y0"]
_data = {
"RESET": SubResource("Animation_4ghdk"),
"death": SubResource("Animation_1xk3l")
}

[sub_resource type="Gradient" id="Gradient_3h2jq"]
offsets = PackedFloat32Array(0.491561, 0.594937, 1)
colors = PackedColorArray(0.351247, 1.13709e-06, 0.0261155, 1, 0.453744, 2.52686e-07, 0.0446104, 1, 1, 0.0235294, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_ce28m"]
gradient = SubResource("Gradient_3h2jq")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ieo0m"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(5, 5, 3)
emission_shape = 1
emission_sphere_radius = 1.72
spread = 3.795
flatness = 0.458
gravity = Vector3(50, -98, 0)
scale_min = 0.1
scale_max = 0.9
color_ramp = SubResource("GradientTexture1D_ce28m")

[node name="Monster" type="CharacterBody2D" groups=["enemies"]]
z_index = 6
y_sort_enabled = true
collision_layer = 2
collision_mask = 2147483682
script = ExtResource("1_hqut6")

[node name="Sprite2D" type="Sprite2D" parent="."]
y_sort_enabled = true
texture_filter = 1
material = ExtResource("2_iwyor")
scale = Vector2(1.1817, 1.1817)
texture = ExtResource("2_0w6fd")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
visible = false
z_index = 3
y_sort_enabled = true
position = Vector2(-7.35438, -4.62608)
polygon = PackedVector2Array(-0.654971, -7.65217, -3.92982, 13.913, 9.82456, 18.087, 11.7895, -7.65217)

[node name="ProgressBar" type="ProgressBar" parent="."]
visible = false
y_sort_enabled = true
clip_contents = true
custom_minimum_size = Vector2(100, 5)
offset_left = -25.0
offset_top = -31.0
offset_right = 75.0
offset_bottom = -4.0
scale = Vector2(0.452946, 0.159096)
theme_override_styles/fill = SubResource("StyleBoxTexture_fpima")
value = 100.0
rounded = true
show_percentage = false

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_r6i34")

[node name="GruntSFX" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = ExtResource("3_g2id6")
volume_db = -1.942

[node name="GroanSFX" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = SubResource("AudioStreamRandomizer_rlsmq")
pitch_scale = 0.7
attenuation = 6.96438
max_polyphony = 10
panning_strength = 1.95
bus = &"Monster Groans"

[node name="HurtArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="HurtArea"]
visible = false
z_index = 4
y_sort_enabled = true
position = Vector2(-3, 28)
rotation = 0.0508076
scale = Vector2(1.45331, 0.631309)
polygon = PackedVector2Array(-19.1623, -20.7865, -6.42667, -15.2684, 6.61045, -15.7932, 23.1329, -35.7506, 14.64, -65.7965, -0.161915, -86.0922, -13.9931, -62.4446, -16.9785, -40.0667)

[node name="AttackArea" type="Area2D" parent="."]
z_index = 4
y_sort_enabled = true
collision_layer = 12
collision_mask = 12

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="AttackArea"]
visible = false
z_index = 3
y_sort_enabled = true
position = Vector2(-7.35438, -4.62608)
polygon = PackedVector2Array(-10.6456, -18.3739, -14.6456, 29.6261, 23.3544, 28.6261, 17.3544, -18.3739)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
"": SubResource("AnimationLibrary_xd3y0")
}
autoplay = "RESET"

[node name="BloodParticles" type="GPUParticles2D" parent="."]
z_index = -1
position = Vector2(-1, 0)
emitting = false
amount = 100
process_material = SubResource("ParticleProcessMaterial_ieo0m")
lifetime = 0.5
speed_scale = 1.74
